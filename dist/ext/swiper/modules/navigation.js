"use strict";var a=require("../shared/create-element-if-not-defined.js"),e=require("../shared/utils.js");module.exports=function(n){let{swiper:i,extendParams:t,on:s,emit:l}=n;function o(a){let e;return a&&"string"==typeof a&&i.isElement&&(e=i.el.querySelector(a)||i.hostEl.querySelector(a),e)?e:(a&&("string"==typeof a&&(e=[...document.querySelectorAll(a)]),i.params.uniqueNavElements&&"string"==typeof a&&e&&e.length>1&&1===i.el.querySelectorAll(a).length?e=i.el.querySelector(a):e&&1===e.length&&(e=e[0])),a&&!e?a:e)}function r(a,n){const t=i.params.navigation;(a=e.m(a)).forEach((a=>{a&&(a.classList[n?"add":"remove"](...t.disabledClass.split(" ")),"BUTTON"===a.tagName&&(a.disabled=n),i.params.watchOverflow&&i.enabled&&a.classList[i.isLocked?"add":"remove"](t.lockClass))}))}function d(){const{nextEl:a,prevEl:e}=i.navigation;if(i.params.loop)return r(e,!1),void r(a,!1);r(e,i.isBeginning&&!i.params.rewind),r(a,i.isEnd&&!i.params.rewind)}function c(a){a.preventDefault(),(!i.isBeginning||i.params.loop||i.params.rewind)&&(i.slidePrev(),l("navigationPrev"))}function p(a){a.preventDefault(),(!i.isEnd||i.params.loop||i.params.rewind)&&(i.slideNext(),l("navigationNext"))}function v(){const n=i.params.navigation;if(i.params.navigation=a.c(i,i.originalParams.navigation,i.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!n.nextEl&&!n.prevEl)return;let t=o(n.nextEl),s=o(n.prevEl);Object.assign(i.navigation,{nextEl:t,prevEl:s}),t=e.m(t),s=e.m(s);const l=(a,e)=>{a&&a.addEventListener("click","next"===e?p:c),!i.enabled&&a&&a.classList.add(...n.lockClass.split(" "))};t.forEach((a=>l(a,"next"))),s.forEach((a=>l(a,"prev")))}function g(){let{nextEl:a,prevEl:n}=i.navigation;a=e.m(a),n=e.m(n);const t=(a,e)=>{a.removeEventListener("click","next"===e?p:c),a.classList.remove(...i.params.navigation.disabledClass.split(" "))};a.forEach((a=>t(a,"next"))),n.forEach((a=>t(a,"prev")))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),i.navigation={nextEl:null,prevEl:null},s("init",(()=>{!1===i.params.navigation.enabled?m():(v(),d())})),s("toEdge fromEdge lock unlock",(()=>{d()})),s("destroy",(()=>{g()})),s("enable disable",(()=>{let{nextEl:a,prevEl:n}=i.navigation;a=e.m(a),n=e.m(n),i.enabled?d():[...a,...n].filter((a=>!!a)).forEach((a=>a.classList.add(i.params.navigation.lockClass)))})),s("click",((a,n)=>{let{nextEl:t,prevEl:s}=i.navigation;t=e.m(t),s=e.m(s);const o=n.target;let r=s.includes(o)||t.includes(o);if(i.isElement&&!r){const a=n.path||n.composedPath&&n.composedPath();a&&(r=a.find((a=>t.includes(a)||s.includes(a))))}if(i.params.navigation.hideOnClick&&!r){if(i.pagination&&i.params.pagination&&i.params.pagination.clickable&&(i.pagination.el===o||i.pagination.el.contains(o)))return;let a;t.length?a=t[0].classList.contains(i.params.navigation.hiddenClass):s.length&&(a=s[0].classList.contains(i.params.navigation.hiddenClass)),l(!0===a?"navigationShow":"navigationHide"),[...t,...s].filter((a=>!!a)).forEach((a=>a.classList.toggle(i.params.navigation.hiddenClass)))}}));const m=()=>{i.el.classList.add(...i.params.navigation.navigationDisabledClass.split(" ")),g()};Object.assign(i.navigation,{enable:()=>{i.el.classList.remove(...i.params.navigation.navigationDisabledClass.split(" ")),v(),d()},disable:m,update:d,init:v,destroy:g})};
