"use strict";var e=require("../graceful-fs/graceful-fs.js"),r=require("../../_virtual/index2.js");require("../universalify/index.js");var t=require("./utils.js"),i=require("fs");let s;try{s=e.gracefulFs}catch(e){s=i}const n=r.__exports,{stringify:a,stripBom:c}=t.utils;var l={readFile:n.fromPromise((async function(e,r={}){"string"==typeof r&&(r={encoding:r});const t=r.fs||s,i=!("throws"in r)||r.throws;let a,l=await n.fromCallback(t.readFile)(e,r);l=c(l);try{a=JSON.parse(l,r?r.reviver:null)}catch(r){if(i)throw r.message=`${e}: ${r.message}`,r;return null}return a})),readFileSync:function(e,r={}){"string"==typeof r&&(r={encoding:r});const t=r.fs||s,i=!("throws"in r)||r.throws;try{let i=t.readFileSync(e,r);return i=c(i),JSON.parse(i,r.reviver)}catch(r){if(i)throw r.message=`${e}: ${r.message}`,r;return null}},writeFile:n.fromPromise((async function(e,r,t={}){const i=t.fs||s,c=a(r,t);await n.fromCallback(i.writeFile)(e,c,t)})),writeFileSync:function(e,r,t={}){const i=t.fs||s,n=a(r,t);return i.writeFileSync(e,n,t)}};exports.jsonfile_1=l;
