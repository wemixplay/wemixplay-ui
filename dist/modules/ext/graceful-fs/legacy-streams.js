"use strict";var t=require("stream").Stream,s=function(s){return{ReadStream:function i(e,r){if(!(this instanceof i))return new i(e,r);t.call(this);var h=this;this.path=e,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var n=Object.keys(r),a=0,o=n.length;a<o;a++){var f=n[a];this[f]=r[f]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){h._read()}));s.open(this.path,this.flags,this.mode,(function(t,s){if(t)return h.emit("error",t),void(h.readable=!1);h.fd=s,h.emit("open",s),h._read()}))},WriteStream:function i(e,r){if(!(this instanceof i))return new i(e,r);t.call(this),this.path=e,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var h=Object.keys(r),n=0,a=h.length;n<a;n++){var o=h[n];this[o]=r[o]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=s.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};exports.legacyStreams=s;
