"use strict";var t=require("../../../../_virtual/index2.js");require("../../../universalify/index.js");var e=require("../../../../_virtual/index.js");require("../fs/index.js");var s=require("../path-exists/index.js");const r=require("path"),i=e.__exports,{pathExists:a}=s.pathExists_1;var n={symlinkPaths:(0,t.__exports.fromPromise)((async function(t,e){if(r.isAbsolute(t)){try{await i.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:t}}const s=r.dirname(e),n=r.join(s,t);if(await a(n))return{toCwd:n,toDst:t};try{await i.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:r.relative(s,t)}})),symlinkPathsSync:function(t,e){if(r.isAbsolute(t)){if(!i.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const s=r.dirname(e),a=r.join(s,t);if(i.existsSync(a))return{toCwd:a,toDst:t};if(!i.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(s,t)}}};exports.symlinkPaths_1=n;
