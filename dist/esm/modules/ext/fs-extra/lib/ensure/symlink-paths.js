import{__exports as t}from"../../../../_virtual/index2.js";import"../../../universalify/index.js";import{__exports as s}from"../../../../_virtual/index.js";import"../fs/index.js";import{p as r}from"../path-exists/index.js";import e from"path";const i=e,o=s,{pathExists:a}=r;var n={symlinkPaths:(0,t.fromPromise)((async function(t,s){if(i.isAbsolute(t)){try{await o.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:t}}const r=i.dirname(s),e=i.join(r,t);if(await a(e))return{toCwd:e,toDst:t};try{await o.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:i.relative(r,t)}})),symlinkPathsSync:function(t,s){if(i.isAbsolute(t)){if(!o.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const r=i.dirname(s),e=i.join(r,t);if(o.existsSync(e))return{toCwd:e,toDst:t};if(!o.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:i.relative(r,t)}}};export{n as s};
