import{getDefaultExportFromCjs as t,commonjsGlobal as e}from"../../../_virtual/_commonjsHelpers.js";import{__module as n}from"../../../_virtual/timezone.js";var r,i;n.exports=(r={year:0,month:1,day:2,hour:3,minute:4,second:5},i={},function(t,e,n){var o,a=function(t,e,n){void 0===n&&(n={});var r=new Date(t),o=function(t,e){void 0===e&&(e={});var n=e.timeZoneName||"short",r=t+"|"+n,o=i[r];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),i[r]=o),o}(e,n);return o.formatToParts(r)},u=function(t,e){for(var i=a(t,e),o=[],u=0;u<i.length;u+=1){var s=i[u],m=s.type,f=s.value,c=r[m];c>=0&&(o[c]=parseInt(f,10))}var v=o[3],l=24===v?0:v,h=o[0]+"-"+o[1]+"-"+o[2]+" "+l+":"+o[4]+":"+o[5]+":000",d=+t;return(n.utc(h).valueOf()-(d-=d%1e3))/6e4},s=e.prototype;s.tz=function(t,e){void 0===t&&(t=o);var r=this.utcOffset(),i=this.toDate(),a=i.toLocaleString("en-US",{timeZone:t}),u=Math.round((i-new Date(a))/1e3/60),s=n(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-u,!0);if(e){var m=s.utcOffset();s=s.add(r-m,"minute")}return s.$x.$timezone=t,s},s.offsetName=function(t){var e=this.$x.$timezone||n.tz.guess(),r=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return r&&r.value};var m=s.startOf;s.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return m.call(this,t,e);var r=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return m.call(r,t,e).tz(this.$x.$timezone,!0)},n.tz=function(t,e,r){var i=r&&e,a=r||e||o,s=u(+n(),a);if("string"!=typeof t)return n(t).tz(a);var m=function(t,e,n){var r=t-60*e*1e3,i=u(r,n);if(e===i)return[r,e];var o=u(r-=60*(i-e)*1e3,n);return i===o?[r,i]:[t-60*Math.min(i,o)*1e3,Math.max(i,o)]}(n.utc(t,i).valueOf(),s,a),f=m[0],c=m[1],v=n(f).utcOffset(c);return v.$x.$timezone=a,v},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(t){o=t}});var o=t(n.exports);export{o as default};
