"use client";
import e,{forwardRef as t,useId as o,useRef as n,useCallback as a,useImperativeHandle as i}from"react";import r from"./FeedBox.module.scss.js";import l from"./FeedImagesView.js";import c from"../popover/PopoverButton.js";import m from"../../assets/svgs/icon-morehorizontal.svg.js";import s from"./FeedEmojiArea.js";import d from"./FeedEtcInfoArea.js";import f from"./FeedWriterInfo.js";import p from"./FeedTextContent.js";import C from"./FeedLinkPreview.js";import g from"./FeedIframesView.js";import{makeCxFunc as k}from"../../utils/forReactUtils.js";const E=k(r),h=t(((t,r)=>{let{className:k="",writerName:h,writerImg:u,channelName:j,channelImg:v,channelIsOfficial:N,categoryName:I,certificated:F,textContent:B,images:x=[],media:S=[],ogMetaData:M,managePopoverElement:y=e.createElement(e.Fragment,null),emojiSelectPopoverElement:P=e.createElement(e.Fragment,null),emojiList:w=[],commentCount:A=0,likeCount:L=0,isMyLike:b,avatarSize:z=32,intersectionVideo:T,createdAt:V,updatedAt:W,locale:D="en",textEllipsis:H=!0,hideFooter:O=!1,onClick:R,onMentionClick:U,onHashTagClick:q,onManageBtnClick:G,onEmojiSelectBtnClick:J,onEmojiClick:K,onShareBtnClick:Q,onImageClick:X,onLikeBtnClick:Y,onCommentBtnClick:Z,onWriterProfileClick:$,onChannelClick:_}=t;const ee=o(),te=n(),oe=n(),ne=a((e=>{e.stopPropagation(),G&&G(e)}),[G]);return i(r,(()=>(te.current.iframeRef=oe.current,te.current))),e.createElement("article",{ref:te,className:E(k,"feed-box",{"has-click-event":R}),onClick:R},e.createElement("div",{className:E("feed-box-container")},e.createElement("div",{className:E("feed-header")},e.createElement(f,{className:E("profile"),name:h,profileImg:u,profileSize:z,channelName:j,channelImg:v,channelIsOfficial:N,categoryName:I,certificated:F,createdAt:V,updatedAt:W,locale:D,onWriterProfileClick:$,onChannelClick:_}),y||G?e.createElement("div",{className:E("btn-manage")},e.createElement(c,{anchorId:G?"":"feed-manage-".concat(ee.replace(/:/gi,"")),id:"feed-manage-".concat(ee.replace(/:/gi,"")),popoverStyle:{right:0,top:10,zIndex:999},popoverElement:y,popoverAnimation:{name:"modal-pop-fade",duration:300},whenWindowScrollClose:!0,onClick:ne},e.createElement(m,null))):e.createElement(e.Fragment,null)),e.createElement("div",{className:E("feed-body")},e.createElement(p,{className:E("text-content"),content:B,ellipsis:H,onTextClick:R,onMentionClick:U,onHashTagClick:q}),x.length>0&&e.createElement(l,{className:E("carousel"),images:x.map((e=>"string"==typeof e?{src:e}:{src:e.src,inappositeMsg:e.inappositeMsg})),onImageClick:X}),S.length>0&&e.createElement(g,{ref:oe,className:E("carousel"),media:S,intersectionVideo:T}),!!M&&e.createElement(C,{ogMetaData:M})),!O&&e.createElement("div",{className:E("feed-footer")},e.createElement("div",{className:E("feed-footer-container")},e.createElement(s,{className:E("feed-reactions"),emojiList:w,emojiSelectPopoverElement:P,onEmojiClick:K,onEmojiSelectBtnClick:J}),e.createElement(d,{className:E("feed-comments"),commentCount:A,likeCount:L,isMyClick:b,onLikeBtnClick:Y,onShareBtnClick:Q,onCommentBtnClick:Z})))))}));h.displayName="FeedBox";var u=h;export{u as default};
