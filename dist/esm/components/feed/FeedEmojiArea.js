"use client";
import e,{useId as t,useMemo as o,useCallback as a}from"react";import m from"./FeedEmojiArea.module.scss.js";import i from"../image/WpImage.js";import r from"../../assets/svgs/ico-add-emoji-m.svg.js";import l from"../../assets/svgs/ico-add-emoji.svg.js";import n from"../popover/PopoverButton.js";import{makeCxFunc as s}from"../../utils/forReactUtils.js";import{toFormatterByInt as c}from"../../utils/valueParserUtils.js";import{isMobile as p}from"react-device-detect";const d=s(m);var j=m=>{let{className:s="",emojiList:j=[],emojiSelectPopoverElement:g,onEmojiClick:v,onEmojiSelectBtnClick:f}=m;const u=t(),E=o((()=>{let e=0;return e=0===j.length?0:-30*j.length,{left:e<-80?-80:e,top:10,zIndex:999}}),[j.length]),h=a((e=>{let{emojiInfo:t,e:o}=e;o.stopPropagation(),v&&v(t)}),[v]),k=a((e=>{e.stopPropagation(),f&&f(e)}),[f]);return e.createElement("div",{className:d(s,"feed-reactions")},j.map((t=>e.createElement("button",{key:t.emojiNo,type:"button",className:d({active:t.isMyClick,"no-exist-event":!v}),onClick:e=>h({emojiInfo:t,e:e})},e.createElement(i,{className:d("emoji-img"),src:t.imageUrl,alt:t.imageUrl,width:22,height:22}),e.createElement("span",{className:d("count")},c(t.clickCount,1))))),g||f?e.createElement("div",{className:d("btn-add-emoji")},e.createElement(n,{anchorId:f?"":"add-emoji-".concat(u.replace(/:/gi,"")),id:"add-emoji-".concat(u.replace(/:/gi,"")),popoverStyle:E,popoverElement:g,popoverAnimation:{name:"modal-pop-fade",duration:300},whenWindowScrollClose:!0,onClick:k},p?e.createElement(r,null):e.createElement(l,null))):e.createElement(e.Fragment,null))};export{j as default};
