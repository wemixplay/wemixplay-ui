import e,{useId as o,useMemo as t,useCallback as i}from"react";import a from"./FeedEmojiArea.module.scss.js";import r from"../image/WpImage.js";import n from"../../assets/svgs/ico-add-emoji-m.svg.js";import m from"../../assets/svgs/ico-add-emoji.svg.js";import l from"../popover/PopoverButton.js";import{makeCxFunc as c}from"../../utils/forReactUtils.js";import{toFormatterByInt as s}from"../../utils/valueParserUtils.js";import{isMobile as p}from"react-device-detect";var d=c(a),u=function(a){var c=a.className,u=void 0===c?"":c,f=a.emojiList,v=void 0===f?[]:f,j=a.emojiSelectPopoverElement,g=a.onEmojiClick,E=a.onEmojiSelectBtnClick,h=o(),k=t((function(){var e=0;return{left:(e=0===v.length?0:-30*v.length)<-80?-80:e,top:10,zIndex:999}}),[v.length]),C=i((function(e){var o=e.emojiInfo;e.e.stopPropagation(),g&&g(o)}),[g]),N=i((function(e){e.stopPropagation(),E&&E(e)}),[E]);return e.createElement("div",{className:d(u,"feed-reactions")},v.map((function(o){return e.createElement("button",{key:o.emojiNo,type:"button",className:d({active:o.isMyClick,"no-exist-event":!g}),onClick:function(e){return C({emojiInfo:o,e:e})}},e.createElement(r,{className:d("emoji-img"),src:o.imageUrl,alt:o.imageUrl,width:22,height:22}),e.createElement("span",{className:d("count")},s(o.clickCount,1)))})),j||E?e.createElement("div",{className:d("btn-add-emoji")},e.createElement(l,{anchorId:E?"":"add-emoji-".concat(h.replace(/:/gi,"")),id:"add-emoji-".concat(h.replace(/:/gi,"")),popoverStyle:k,popoverElement:j,popoverAnimation:{name:"modal-pop-fade",duration:300},whenWindowScrollClose:!0,onClick:N},p?e.createElement(n,null):e.createElement(m,null))):e.createElement(e.Fragment,null))};export{u as default};
