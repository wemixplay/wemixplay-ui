import e from"@babel/runtime/helpers/slicedToArray";import n,{memo as t,useRef as i,useState as o,useCallback as r,useEffect as a}from"react";import c from"./Ripple.module.scss.js";import{makeCxFunc as l}from"../../utils/forReactUtils.js";var p={color:"#ddd",duration:500,maxSize:400,disabled:!1},d=l(c),s=t((function(t){var c=t.color,l=void 0===c?p.color:c,s=t.duration,u=void 0===s?p.duration:s,m=t.maxSize,h=void 0===m?p.maxSize:m,f=t.disabled,x=void 0===f?p.disabled:f,v=t.children,w=i(null),b=o(null),g=e(b,2),R=g[0],y=g[1],E=r((function(e){if(R&&!x){R.style.position="relative",R.style.overflow="hidden";var n=e.clientX,t=e.clientY,i=R.getBoundingClientRect(),o=i.left,r=i.top,a=i.width,c=i.height,p=document.createElement("jwripple"),d=a+c/2;p.classList.add("animate"),p.setAttribute("style","\n          position: absolute;\n          top: ".concat(t-r,"px;\n          left: ").concat(n-o,"px;\n          z-index: 1;\n          min-width: 30px;\n          min-height: 30px;\n          max-width: ").concat(h,"px;\n          max-height: ").concat(h,"px;\n          width: ").concat(d,"px;\n          height: ").concat(d,"px;\n          background-color: ").concat(l,";\n          animation-duration: ").concat(Math.abs(u),"ms;\n          border-radius: 50%;\n          opacity: 0;\n          cursor: pointer;\n          pointer-events: none;\n          transform-origin: center;\n          will-change: transform, opacity;\n  ")),R.prepend(p),e.stopPropagation(),setTimeout((function(){p.remove()}),Math.abs(u)+200)}}),[R,l,u,x,h]);return a((function(){!function(){if(w.current){if(w.current.childElementCount>1)throw new Error("[Ripple]: Ripple 컴포넌트 사용할 시 Ripple 컴포넌트의 하위 자식 엘리먼트 갯수는 하나여야만 합니다. 그렇지 않을 시 Ripple은 작동하지 않습니다.");if(0===w.current.childElementCount)throw new Error("[Ripple]: Ripple 컴포넌트의 하위 자식 엘리먼트가 존재하지 않습니다. 하위 자식 엘리먼트가 없을 경우 Ripple은 작동하지 않습니다.");y(w.current.children[0])}}()}),[w]),n.createElement("div",{ref:w,className:d("ripple"),onMouseDown:E},v)}));export{p as DEFAULT_RIPPLE_OPTION,s as default};
