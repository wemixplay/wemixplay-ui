import{__rest as t}from"../../_virtual/_tslib.js";import e,{useState as s,useCallback as r,useEffect as i}from"react";import{getTimestamp as o,dayjs as a}from"../../utils/dateUtils.js";import{makeCxFunc as m}from"../../utils/forReactUtils.js";import n from"../timer/Timer.js";import l from"./Countdown.module.scss.js";const c=m(l),d=t=>{const e=o(t)-a().valueOf();return e>0?e:0};var u=o=>{var{className:a,endTimestamp:m}=o,l=t(o,["className","endTimestamp"]);const[u,p]=s(d(m)),f=r((()=>{const t=d(m);p(t)}),[m]);return i((()=>(window.addEventListener("visibilitychange",f),()=>{window.removeEventListener("visibilitychange",f)})),[f]),i((()=>{f()}),[f]),e.createElement("div",{className:c("countdown-wrapper",a)},e.createElement(n,Object.assign({duration:u,useButtons:!1,defaultPaused:!1},l)))};export{u as default};
