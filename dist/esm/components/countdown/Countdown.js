import t from"@babel/runtime/helpers/slicedToArray";import{__rest as e}from"../../_virtual/_tslib.js";import r,{useState as i,useCallback as n,useEffect as o}from"react";import{getTimestamp as s,dayjs as a}from"../../utils/dateUtils.js";import{makeCxFunc as m}from"../../utils/forReactUtils.js";import u from"../timer/Timer.js";import l from"./Countdown.module.scss.js";var c=m(l),f=function(t){var e=s(t)-a().valueOf();return e>0?e:0},d=function(s){var a=s.className,m=s.endTimestamp,l=e(s,["className","endTimestamp"]),d=i(f(m)),p=t(d,2),v=p[0],w=p[1],b=n((function(){var t=f(m);w(t)}),[m]);return o((function(){return window.addEventListener("visibilitychange",b),function(){window.removeEventListener("visibilitychange",b)}}),[b]),o((function(){b()}),[b]),r.createElement("div",{className:c("countdown-wrapper",a)},r.createElement(u,Object.assign({duration:v,useButtons:!1,defaultPaused:!1},l)))};export{d as default};
