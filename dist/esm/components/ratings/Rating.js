"use client";
import e from'./../../ext/lodash/debounce.js';import a,{useState as s,useMemo as t,useCallback as r,useEffect as n}from"react";import{makeCxFunc as m}from"../../utils/forReactUtils.js";import{getFloatFixed as l}from"../../utils/valueParserUtils.js";import o from"../../assets/svgs/ico-star-off.svg.js";import c from"../../assets/svgs/ico-star-on.svg.js";import i from"./Rating.module.scss.js";const d=m(i);var u=m=>{let{className:i="",min:u=0,max:p=5,step:f=.5,size:v=40,gap:g,name:h,onIcon:E=a.createElement(c,null),offIcon:N=a.createElement(o,null),value:y,readOnly:j,showScore:x,onChange:b,handleChange:C}=m;const[I,w]=s(0),R=t((()=>e((e=>{const{value:a,name:s}=e.target,t=Number(a);void 0===y&&w(t),C&&C(t,s),b&&b(e)}),10)),[y,b,C]),U=r((e=>{const a=100/p,s=I*a,t=(e-1)*a,r=s-t>0?(s-t)/a*100:0;return"".concat(r>100?100:r,"%")}),[p,I]);return n((()=>{void 0!==y&&y!==I&&w(y)}),[y,I]),a.createElement("div",{className:d(i,"stars"),style:{height:v}},a.createElement("div",{className:d("star-area"),style:{columnGap:g}},Array.from({length:p}).map(((e,s)=>a.createElement("div",{key:s,className:d("star")},N,a.createElement("span",{className:d("active"),style:{width:U(s+1)}},E)))),a.createElement("input",{type:"range",tabIndex:-1,min:u,max:p,step:f,name:h,defaultValue:I,disabled:j,onChange:R})),x&&a.createElement("div",{className:d("score")},a.createElement("span",{className:d("current")},l(I,1)),a.createElement("span",{className:d("max")},"/",p)))};export{u as default};
