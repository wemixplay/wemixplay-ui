"use strict";var e=require("react"),r=require("./shared/swiper-core.js"),t=require("./shared/update-on-virtual-data.js"),n=require("./shared/update-swiper.js");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function a(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function l(r){const t=[];return e.Children.toArray(r).forEach((e=>{a(e)?t.push(e):e.props&&e.props.children&&l(e.props.children).forEach((e=>t.push(e)))})),t}function i(r){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return e.Children.toArray(r).forEach((e=>{if(a(e))t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const r=l(e.props.children);r.length>0?r.forEach((e=>t.push(e))):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function c(r,t){return"undefined"==typeof window?e.useEffect(r,t):e.useLayoutEffect(r,t)}const u=e.createContext(null),o=e.createContext(null),p=e.forwardRef((function(a,l){let{className:u,tag:p="div",wrapperTag:d="div",children:f,onSwiper:m,...w}=void 0===a?{}:a,v=!1;const[h,E]=e.useState("swiper"),[y,g]=e.useState(null),[x,b]=e.useState(!1),S=e.useRef(!1),N=e.useRef(null),O=e.useRef(null),R=e.useRef(null),C=e.useRef(null),j=e.useRef(null),P=e.useRef(null),$=e.useRef(null),k=e.useRef(null),{params:z,passedParams:I,rest:_,events:q}=t.g(w),{slides:A,slots:B}=i(f),L=()=>{b(!x)};Object.assign(z.on,{_containerClasses(e,r){E(r)}});const T=()=>{Object.assign(z.on,q),v=!0;const e={...z};if(delete e.wrapperClass,O.current=new r.S(e),O.current.virtual&&O.current.params.virtual.enabled){O.current.virtual.slides=A;const e={cache:!1,slides:A,renderExternal:g,renderExternalUpdate:!1};n.e(O.current.params.virtual,e),n.e(O.current.originalParams.virtual,e)}};N.current||T(),O.current&&O.current.on("_beforeBreakpoint",L);return e.useEffect((()=>()=>{O.current&&O.current.off("_beforeBreakpoint",L)})),e.useEffect((()=>{!S.current&&O.current&&(O.current.emitSlidesClasses(),S.current=!0)})),c((()=>{if(l&&(l.current=N.current),N.current)return O.current.destroyed&&T(),t.m({el:N.current,nextEl:j.current,prevEl:P.current,paginationEl:$.current,scrollbarEl:k.current,swiper:O.current},z),m&&!O.current.destroyed&&m(O.current),()=>{O.current&&!O.current.destroyed&&O.current.destroy(!0,!1)}}),[]),c((()=>{!v&&q&&O.current&&Object.keys(q).forEach((e=>{O.current.on(e,q[e])}));const e=t.a(I,R.current,A,C.current,(e=>e.key));return R.current=I,C.current=A,e.length&&O.current&&!O.current.destroyed&&n.u({swiper:O.current,slides:A,passedParams:I,changedParams:e,nextEl:j.current,prevEl:P.current,scrollbarEl:k.current,paginationEl:$.current}),()=>{q&&O.current&&Object.keys(q).forEach((e=>{O.current.off(e,q[e])}))}})),c((()=>{t.u(O.current)}),[y]),e.createElement(p,s({ref:N,className:n.d(`${h}${u?` ${u}`:""}`)},_),e.createElement(o.Provider,{value:O.current},B["container-start"],e.createElement(d,{className:n.w(z.wrapperClass)},B["wrapper-start"],z.virtual?function(r,t,n){if(!n)return null;const s=e=>{let r=e;return e<0?r=t.length+e:r>=t.length&&(r-=t.length),r},a=r.isHorizontal()?{[r.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:l,to:i}=n,c=r.params.loop?-t.length:0,u=r.params.loop?2*t.length:t.length,o=[];for(let e=c;e<u;e+=1)e>=l&&e<=i&&o.push(t[s(e)]);return o.map(((t,n)=>e.cloneElement(t,{swiper:r,style:a,key:t.props.virtualIndex||t.key||`slide-${n}`})))}(O.current,A,y):A.map(((r,t)=>e.cloneElement(r,{swiper:O.current,swiperSlideIndex:t}))),B["wrapper-end"]),n.n(z)&&e.createElement(e.Fragment,null,e.createElement("div",{ref:P,className:"swiper-button-prev"}),e.createElement("div",{ref:j,className:"swiper-button-next"})),n.b(z)&&e.createElement("div",{ref:k,className:"swiper-scrollbar"}),n.a(z)&&e.createElement("div",{ref:$,className:"swiper-pagination"}),B["container-end"]))}));p.displayName="Swiper";const d=e.forwardRef((function(r,t){let{tag:a="div",children:l,className:i="",swiper:o,zoom:p,lazy:d,virtualIndex:f,swiperSlideIndex:m,...w}=void 0===r?{}:r;const v=e.useRef(null),[h,E]=e.useState("swiper-slide"),[y,g]=e.useState(!1);function x(e,r,t){r===v.current&&E(t)}c((()=>{if(void 0!==m&&(v.current.swiperSlideIndex=m),t&&(t.current=v.current),v.current&&o){if(!o.destroyed)return o.on("_slideClass",x),()=>{o&&o.off("_slideClass",x)};"swiper-slide"!==h&&E("swiper-slide")}})),c((()=>{o&&v.current&&!o.destroyed&&E(o.getSlideClasses(v.current))}),[o]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},S=()=>"function"==typeof l?l(b):l;return e.createElement(a,s({ref:v,className:n.d(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":f,onLoad:()=>{g(!0)}},w),p&&e.createElement(u.Provider,{value:b},e.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof p?p:void 0},S(),d&&!y&&e.createElement("div",{className:"swiper-lazy-preloader"}))),!p&&e.createElement(u.Provider,{value:b},S(),d&&!y&&e.createElement("div",{className:"swiper-lazy-preloader"})))}));d.displayName="SwiperSlide",exports.Swiper=p,exports.SwiperSlide=d;
