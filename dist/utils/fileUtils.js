"use strict";var e=require("../_virtual/_tslib.js"),r=require('./../ext/lodash/get.js');const t=r=>new Promise(((t,o)=>{const i=new FileReader;i.onload=()=>e.__awaiter(void 0,void 0,void 0,(function*(){if("string"==typeof i.result)t(i.result);else{const e=new TextDecoder;t(e.decode(i.result))}})),i.onerror=o,i.readAsDataURL(r)}));exports.imageFileUpload=o=>e.__awaiter(void 0,void 0,void 0,(function*(){const e=r.default(o,"target.files[0]",null);if(e){yield((e,r)=>new Promise(((t,o)=>{/\.(jpg|jpeg|png|gif|webp)$/i.test(e.name)?t(!0):(r&&(r.target.value=""),o(new Error("onlyImage")))})))(e,o);return{file:e,dataUrl:(yield t(e))||""}}throw new Error("uploadFailed")})),exports.readAsDataURLAsync=t;
