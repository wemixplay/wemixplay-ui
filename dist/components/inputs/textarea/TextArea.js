'use client';
"use strict";var e=require("../../../_virtual/_tslib.js"),a=require("react"),r=require("../../../utils/forReactUtils.js"),t=require("../../../utils/valueParserUtils.js"),n=require("./TextArea.module.scss.js");const l=r.makeCxFunc(n),s=a.forwardRef(((r,n)=>{var{className:s="",value:u,maxLength:c,error:i,info:m,handleChange:o}=r,v=e.__rest(r,["className","value","maxLength","error","info","handleChange"]);const h=a.useRef(),[g,f]=a.useState(0),d=a.useCallback((e=>{const{value:a,name:r}=e.target;o&&o(a,r),v.onChange&&v.onChange(e),f(a.length)}),[o,v]);return a.useEffect((()=>{var e;h.current&&f((null!==(e=h.current.value)&&void 0!==e?e:"").length)}),[]),a.useEffect((()=>{h.current&&h.current.value.length>c&&(h.current.value=h.current.value.slice(0,c),dispatchEvent(new Event("change",{bubbles:!0})))}),[c]),a.useImperativeHandle(n,(()=>h.current)),a.createElement("div",{className:l(s,"text-area",{error:i})},a.createElement("textarea",Object.assign({ref:h},v,{maxLength:c,onChange:d})),!!c&&a.createElement("p",{className:l("text-count")},a.createElement("strong",null,t.commaWithValue(g)),"/",t.commaWithValue(c)))}));s.displayName="TextArea";var u=s;module.exports=u;
