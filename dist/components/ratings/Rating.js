"use client";
"use strict";var e=require('./../../ext/lodash/debounce.js'),a=require("react"),s=require("../../utils/forReactUtils.js"),t=require("../../utils/valueParserUtils.js"),r=require("../../assets/svgs/ico-star-off.svg.js"),l=require("../../assets/svgs/ico-star-on.svg.js"),n=require("./Rating.module.scss.js");const c=s.makeCxFunc(n);var m=s=>{let{className:n="",min:m=0,max:u=5,step:o=.5,size:i=40,gap:d,name:v,onIcon:g=a.createElement(l,null),offIcon:p=a.createElement(r,null),value:E,readOnly:f,showScore:h,onChange:N,handleChange:q}=s;const[x,y]=a.useState(0),j=a.useMemo((()=>e.default((e=>{const{value:a,name:s}=e.target,t=Number(a);void 0===E&&y(t),q&&q(t,s),N&&N(e)}),10)),[E,N,q]),b=a.useCallback((e=>{const a=100/u,s=x*a,t=(e-1)*a,r=s-t>0?(s-t)/a*100:0;return"".concat(r>100?100:r,"%")}),[u,x]);return a.useEffect((()=>{void 0!==E&&E!==x&&y(E)}),[E,x]),a.createElement("div",{className:c(n,"stars"),style:{height:i}},a.createElement("div",{className:c("star-area"),style:{columnGap:d}},Array.from({length:u}).map(((e,s)=>a.createElement("div",{key:s,className:c("star")},p,a.createElement("span",{className:c("active"),style:{width:b(s+1)}},g)))),a.createElement("input",{type:"range",tabIndex:-1,min:m,max:u,step:o,name:v,defaultValue:x,disabled:f,onChange:j})),h&&a.createElement("div",{className:c("score")},a.createElement("span",{className:c("current")},t.getFloatFixed(x,1)),a.createElement("span",{className:c("max")},"/",u)))};module.exports=m;
