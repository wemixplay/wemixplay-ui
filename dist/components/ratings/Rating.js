"use strict";var e=require("@babel/runtime/helpers/slicedToArray"),a=require("lodash-es"),s=require("react"),t=require("../../utils/forReactUtils.js"),r=require("../../utils/valueParserUtils.js"),n=require("../../assets/svgs/ico-star-off.svg.js"),l=require("../../assets/svgs/ico-star-on.svg.js"),i=require("./Rating.module.scss.js"),c=t.makeCxFunc(i);module.exports=function(t){var i=t.className,u=void 0===i?"":i,o=t.min,m=void 0===o?0:o,d=t.max,v=void 0===d?5:d,f=t.step,g=void 0===f?.5:f,p=t.size,h=void 0===p?40:p,E=t.gap,N=t.name,q=t.onIcon,y=void 0===q?s.createElement(l,null):q,b=t.offIcon,x=void 0===b?s.createElement(n,null):b,j=t.value,C=t.readOnly,k=t.showScore,F=t.onChange,I=t.handleChange,w=s.useState(0),A=e(w,2),R=A[0],S=A[1],U=s.useMemo((function(){return a.debounce((function(e){var a=e.target,s=a.value,t=a.name,r=Number(s);void 0===j&&S(r),I&&I(r,t),F&&F(e)}),10)}),[j,F,I]),z=s.useCallback((function(e){var a=100/v,s=R*a,t=(e-1)*a,r=s-t>0?(s-t)/a*100:0;return"".concat(r>100?100:r,"%")}),[v,R]);return s.useEffect((function(){void 0!==j&&j!==R&&S(j)}),[j,R]),s.createElement("div",{className:c(u,"stars"),style:{height:h}},s.createElement("div",{className:c("star-area"),style:{columnGap:E}},Array.from({length:v}).map((function(e,a){return s.createElement("div",{key:a,className:c("star")},x,s.createElement("span",{className:c("active"),style:{width:z(a+1)}},y))})),s.createElement("input",{type:"range",tabIndex:-1,min:m,max:v,step:g,name:N,defaultValue:R,disabled:C,onChange:U})),k&&s.createElement("div",{className:c("score")},s.createElement("span",{className:c("current")},r.getFloatFixed(R,1)),s.createElement("span",{className:c("max")},"/",v)))};
