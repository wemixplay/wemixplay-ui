"use strict";var e=require("react"),t=require("../../hooks/useCheckDevice.js"),s=require("../editor/WpEditorContents.js"),i=require("../ellipsis/Ellipsis.js"),o=require("../../utils/valueParserUtils.js"),n=require("../../utils/forReactUtils.js"),l=require("./FeedTextContent.module.scss.js"),r=require("isomorphic-dompurify");const{sanitize:a}=r,c=n.makeCxFunc(l);var u=n=>{let{className:l,content:r,ellipsis:u,enableShowMore:m,onTextClick:d,onHashTagClick:h,onMentionClick:p}=n;const{isDesktop:v,isMobile:k,isTablet:C}=t(),g=e.useMemo((()=>a(o.convertMarkdownToHtmlStr(null!=r?r:""),{ADD_ATTR:["target"]})),[r]),x=e.useCallback((e=>{var t,s;const i=e.target,o=null!==(s=null===(t=i.dataset)||void 0===t?void 0:t.id)&&void 0!==s?s:"",n=i.textContent;i.classList.contains("mention")&&i.classList.contains("complete-mention")?p&&p({id:o,name:n.replace("@","")}):i.classList.contains("hash")&&i.classList.contains("complete-hash")?h&&h({id:o,name:n.replace("#","")}):"A"!==i.tagName&&d&&d(e),e.stopPropagation()}),[p,h]);return e.createElement(s,{className:c(l,"feed-text-content",{"has-click-event":d}),onClick:x},u?e.createElement(i,{className:c("text"),content:g,defaultShortened:!0,lineClamp:5,triggerLess:"show less",triggerMore:"show more",observingEnvs:[k,C,v],onShowMoreLessClick:m?void 0:()=>{}}):e.createElement("div",{className:c("text","full-text"),dangerouslySetInnerHTML:{__html:g}}))};module.exports=u;
