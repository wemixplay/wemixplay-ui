"use strict";var e=require("react"),s=require("./FeedImagesView.module.scss.js"),t=require("../carousel/Carousel.js"),a=require("../../assets/svgs/ico-delete-x.svg.js"),r=require("../../assets/svgs/ico-senstive.svg.js"),n=require("../../assets/svgs/noimage-placeholder.svg.js"),l=require("../../utils/forReactUtils.js"),c=require("../loadings/Spinner.js");const i=l.makeCxFunc(s);module.exports=s=>{let{className:l="",images:o=[],handleDeleteImg:m,onImageClick:g}=s;const u=e.useRef(o),[d,v]=e.useState({}),p=e.useCallback((e=>{let{src:s,index:t,e:a}=e;a.stopPropagation(),g&&g({src:s,index:t})}),[g]),E=e.useCallback((e=>{const s=e.target,{src:t}=s;v((e=>Object.assign(Object.assign({},e),{[t]:!0})))}),[]);return e.useEffect((()=>{v((e=>o.reduce(((s,t)=>(s[t.src]=e[t.src],s)),{})))}),[o]),e.createElement("div",{className:i(l,"images-upload-preview",{"is-preview":!!m}),onClick:e=>{e.stopPropagation()}},e.createElement(t,{className:i("image-preview-slider"),freeMode:!!m,pagination:!m&&o.length>1,navigation:!m&&o.length>1,loop:!1,slidesPerView:m?"auto":1,spaceBetween:m?4:0,onSlidesLengthChange:e=>{u.current.length<o.length&&setTimeout((()=>{e.slideTo(o.length-1,200)}),200),u.current=o}},o.map(((s,t)=>e.createElement("div",{key:"".concat(s.src,"-").concat(t)},!!m&&e.createElement("button",{className:i("btn-img-delete"),onClick:()=>m({deleteIndex:t})},e.createElement(a,null)),e.createElement("div",{key:s.src,className:i("preview-image-box",{"has-click-event":g,error:d[s.src]}),onClick:e=>p({src:s.src,index:t,e:e})},!!s.loading&&e.createElement("div",{className:i("loading")},e.createElement(c,null)),!!s.inappositeMsg&&e.createElement("div",{className:i("senstive-content-layer")},e.createElement("div",{className:i("senstive-content")},e.createElement(r,null),e.createElement("p",null,s.inappositeMsg))),e.createElement("img",{src:s.src,alt:s.src,onError:E}),!!d[s.src]&&e.createElement("div",{className:i("no-image")},e.createElement(n,null),e.createElement("span",null,"No Image"))))))))};
