"use strict";var e=require("@babel/runtime/helpers/defineProperty"),n=require("@babel/runtime/helpers/slicedToArray"),t=require("react"),r=require("./FeedImagesView.module.scss.js"),s=require("../carousel/Carousel.js"),a=require("../../assets/svgs/ico-delete-x.svg.js"),i=require("../../assets/svgs/ico-senstive.svg.js"),c=require("../../assets/svgs/noimage-placeholder.svg.js"),l=require("../../utils/forReactUtils.js"),o=require("../loadings/Spinner.js"),u=l.makeCxFunc(r);module.exports=function(r){var l=r.className,m=void 0===l?"":l,g=r.images,d=void 0===g?[]:g,v=r.handleDeleteImg,p=r.onImageClick,f=t.useRef(d),E=t.useState({}),h=n(E,2),b=h[0],k=h[1],q=t.useCallback((function(e){var n=e.src,t=e.index;e.e.stopPropagation(),p&&p({src:n,index:t})}),[p]),N=t.useCallback((function(n){var t=n.target.src;k((function(n){return Object.assign(Object.assign({},n),e({},t,!0))}))}),[]);return t.useEffect((function(){k((function(e){return d.reduce((function(n,t){return n[t.src]=e[t.src],n}),{})}))}),[d]),t.createElement("div",{className:u(m,"images-upload-preview",{"is-preview":!!v}),onClick:function(e){e.stopPropagation()}},t.createElement(s,{className:u("image-preview-slider"),freeMode:!!v,pagination:!v&&d.length>1,navigation:!v&&d.length>1,loop:!1,slidesPerView:v?"auto":1,spaceBetween:v?4:0,onSlidesLengthChange:function(e){f.current.length<d.length&&setTimeout((function(){e.slideTo(d.length-1,200)}),200),f.current=d}},d.map((function(e,n){return t.createElement("div",{key:"".concat(e.src,"-").concat(n)},!!v&&t.createElement("button",{className:u("btn-img-delete"),onClick:function(){return v({deleteIndex:n})}},t.createElement(a,null)),t.createElement("div",{key:e.src,className:u("preview-image-box",{"has-click-event":p,error:b[e.src]}),onClick:function(t){return q({src:e.src,index:n,e:t})}},!!e.loading&&t.createElement("div",{className:u("loading")},t.createElement(o,null)),!!e.inappositeMsg&&t.createElement("div",{className:u("senstive-content-layer")},t.createElement("div",{className:u("senstive-content")},t.createElement(i,null),t.createElement("p",null,e.inappositeMsg))),t.createElement("img",{src:e.src,alt:e.src,onError:N}),!!b[e.src]&&t.createElement("div",{className:u("no-image")},t.createElement(c,null),t.createElement("span",null,"No Image"))))}))))};
