"use strict";var e=require("../../_virtual/_tslib.js"),n=require("react"),t=require("../../node_modules/swiper/swiper-react.js"),a=require("../../utils/forReactUtils.js"),i=require("./Carousel.module.scss.js"),s=require("../../assets/svgs/ico-carousel-next.svg.js"),o=require("../../assets/svgs/ico-carousel-prev.svg.js"),l=require("../../node_modules/swiper/modules/navigation.js"),r=require("../../node_modules/swiper/modules/pagination.js"),c=require("../../node_modules/swiper/modules/free-mode.js"),u=require("../../node_modules/swiper/modules/effect-fade.js");const d=a.makeCxFunc(i);var p=a=>{var{className:i,isLoading:p=!1,skeletonCount:m=3,skeletonElement:g=null,children:v,modules:w=[],effect:h="slide",spaceBetween:S=10,breakpoints:E,slidesPerView:f=1,threshold:C=5,longSwipesMs:k=1e3,initialSlide:b=0,speed:j=1e3,loop:x=!0,autoplay:q=!1,allowTouchMove:B=!0,navigation:y=!1,pagination:N=!1,prevButton:M=n.createElement(o,null),nextButton:_=n.createElement(s,null),onSlideChangeTransitionEnd:T,handleOnSlideChangeTransitionEnd:O,onSlideChange:P,onSwiper:I,onUpdate:U,onPrevButtonClick:R,onNextButtonClick:V}=a,L=e.__rest(a,["className","isLoading","skeletonCount","skeletonElement","children","modules","effect","spaceBetween","breakpoints","slidesPerView","threshold","longSwipesMs","initialSlide","speed","loop","autoplay","allowTouchMove","navigation","pagination","prevButton","nextButton","onSlideChangeTransitionEnd","handleOnSlideChangeTransitionEnd","onSlideChange","onSwiper","onUpdate","onPrevButtonClick","onNextButtonClick"]);const A=n.useRef(),F=n.useRef(null),[z,D]=n.useState(),[G,H]=n.useState(),J=n.useMemo((()=>p?Array.from({length:m},((e,a)=>n.createElement(t.SwiperSlide,{key:"slide-item-".concat(a)},g))):n.Children.map(v,(e=>e)).map(((e,a)=>n.createElement(t.SwiperSlide,{key:"slide-item-".concat(a)},e)))),[p,v,m,g]),K=n.useMemo((()=>String(Math.random()).replace(".","")),[]),Q=n.useCallback((e=>{const n=("auto"===f?1:f)-1;return 0===e?"first":e===J.length-1-n?"last":"middle"}),[f,J]),W=n.useCallback((e=>{A.current=e,I&&I(e)}),[I]);return n.useEffect((()=>{A.current&&y&&(A.current.navigation.prevEl=z,A.current.navigation.nextEl=G)}),[y,G,z]),n.createElement("div",{className:d("carousel-wrapper",i)},n.createElement("div",{className:d("carousel-swiper")},n.createElement(t.Swiper,Object.assign({modules:[l,r,c,u,...w],effect:h,slidesPerView:f,initialSlide:b,speed:j,threshold:C,longSwipesMs:k,loop:x,autoplay:q,allowTouchMove:B,breakpoints:E,spaceBetween:S,onSlideChangeTransitionEnd:e=>{null==T||T(e);const{realIndex:n,activeIndex:t,previousIndex:a}=e,i=Q(n);null==O||O({realIndex:n,position:i,direction:t-a>0?"next":"prev"})},onSlideChange:P,onSwiper:W,onUpdate:U,navigation:!!y&&Object.assign({prevEl:z,nextEl:G},"boolean"==typeof y?{}:y),pagination:!!N&&Object.assign({clickable:!0,el:"#pagination-".concat(K)},"boolean"==typeof N?{}:N)},L,{style:Object.assign(Object.assign({},L.style),{width:"auto"===f?"auto":""})}),J)),y&&n.createElement("div",{className:d("carousel-navigation")},n.createElement("button",{ref:D,className:d("nav-prev-btn"),onClick:R},M),n.createElement("button",{ref:H,className:d("nav-next-btn"),onClick:V},_)),N&&n.createElement("div",{ref:F,id:"pagination-".concat(K),className:d("carousel-pagination")}))};module.exports=p;
